# æ—¥å¿—ç³»ç»Ÿä½¿ç”¨æŒ‡å— (Logging Walkthrough)

> **é¡¹ç›®**: my-pocketflow Agent
> **ç‰ˆæœ¬**: v1.0
> **åˆ›å»ºæ—¥æœŸ**: 2024-01-23
> **ç›®æ ‡**: å®Œå–„çš„æ—¥å¿—ç³»ç»Ÿï¼Œä¾¿äºè°ƒè¯•å’Œé—®é¢˜è¿½è¸ª

---

## ç›®å½•

1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [æ—¥å¿—æ–‡ä»¶è¯´æ˜](#æ—¥å¿—æ–‡ä»¶è¯´æ˜)
3. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
4. [æ—¥å¿—çº§åˆ«](#æ—¥å¿—çº§åˆ«)
5. [æ—¥å¿—æ ¼å¼](#æ—¥å¿—æ ¼å¼)
6. [å¸¸è§é—®é¢˜æ’æŸ¥](#å¸¸è§é—®é¢˜æ’æŸ¥)
7. [æ—¥å¿—åˆ†ææŠ€å·§](#æ—¥å¿—åˆ†ææŠ€å·§)
8. [å¼€å‘è€…æŒ‡å—](#å¼€å‘è€…æŒ‡å—)
9. [FAQ](#faq)

---

## æ¦‚è¿°

### æ—¥å¿—ç³»ç»Ÿæ¶æ„

```
my-pocketflow/
â”œâ”€â”€ logs/                      # æ—¥å¿—ç›®å½•
â”‚   â”œâ”€â”€ agent.log             # â­ ä¸»æ—¥å¿—ï¼ˆæ‰€æœ‰çº§åˆ«ï¼‰
â”‚   â”œâ”€â”€ error.log             # âŒ é”™è¯¯æ—¥å¿—ï¼ˆä»…ERROR+ï¼‰
â”‚   â”œâ”€â”€ debug.log             # ğŸ” è°ƒè¯•æ—¥å¿—ï¼ˆä»…DEBUGæ¨¡å¼ï¼‰
â”‚   â””â”€â”€ mcp_manager.log       # ğŸ”§ MCPå·¥å…·è°ƒç”¨æ—¥å¿—
â”œâ”€â”€ logging_config.py         # æ—¥å¿—é…ç½®æ¨¡å—
â”œâ”€â”€ main.py                   # å·²é›†æˆæ—¥å¿—
â””â”€â”€ nodes.py                  # å·²é›†æˆæ—¥å¿—
```

### æ ¸å¿ƒåŠŸèƒ½

âœ… **å¤šçº§åˆ«æ—¥å¿—** - DEBUG, INFO, WARNING, ERROR
âœ… **æ–‡ä»¶åˆ†ç±»** - ä¸»æ—¥å¿—ã€é”™è¯¯æ—¥å¿—ã€MCPæ—¥å¿—åˆ†ç¦»
âœ… **è‡ªåŠ¨è½®è½¬** - å•æ–‡ä»¶æœ€å¤§10MBï¼Œä¿ç•™5ä¸ªå¤‡ä»½
âœ… **ç»Ÿä¸€æ ¼å¼** - æ—¶é—´æˆ³ã€æ¨¡å—ã€çº§åˆ«ã€ä½ç½®ã€æ¶ˆæ¯
âœ… **æ˜“äºè°ƒè¯•** - è¯¦ç»†çš„æ‰§è¡Œæµç¨‹å’Œé”™è¯¯å †æ ˆ

---

## æ—¥å¿—æ–‡ä»¶è¯´æ˜

### 1. agent.logï¼ˆä¸»æ—¥å¿—ï¼‰â­

**ç”¨é€”**: è®°å½•æ‰€æœ‰æ—¥å¿—çº§åˆ«çš„æ¶ˆæ¯

**åŒ…å«å†…å®¹**:
- âœ… ä¼šè¯å¼€å§‹/ç»“æŸ
- âœ… ç”¨æˆ·è¾“å…¥
- âœ… Agentå“åº”
- âœ… å·¥å…·è°ƒç”¨å’Œç»“æœ
- âœ… å†³ç­–è¿‡ç¨‹
- âœ… èŠ‚ç‚¹è¿›å…¥/é€€å‡º
- âœ… é”™è¯¯å’Œè­¦å‘Š

**ä½•æ—¶æŸ¥çœ‹**:
- äº†è§£å®Œæ•´çš„æ‰§è¡Œæµç¨‹
- è¿½è¸ªAgentçš„å†³ç­–è¿‡ç¨‹
- è°ƒè¯•å¤æ‚é—®é¢˜

**ç¤ºä¾‹**:
```
2024-01-23 22:30:15 - agent - INFO - [main.py:145] - Starting MCP Agent with Manus-style Planning...
2024-01-23 22:30:16 - agent.input - INFO - [nodes.py:685] - Initializing MCP tool system...
2024-01-23 22:30:17 - agent.input - INFO - [nodes.py:710] - Loaded 15 tools
2024-01-23 22:30:18 - agent - INFO - [logging_config.py:205] - USER INPUT: è¯·ç”Ÿæˆä¸€å¼ çŒ«çš„å›¾ç‰‡
2024-01-23 22:30:20 - agent - INFO - [logging_config.py:225] - DECISION: tool
2024-01-23 22:30:20 - agent - INFO - [logging_config.py:215] - TOOL CALL: submit_generate_image
```

---

### 2. error.logï¼ˆé”™è¯¯æ—¥å¿—ï¼‰âŒ

**ç”¨é€”**: ä»…è®°å½•ERRORçº§åˆ«åŠä»¥ä¸Šçš„æ¶ˆæ¯

**åŒ…å«å†…å®¹**:
- âŒ å¼‚å¸¸å’Œé”™è¯¯
- âŒ å †æ ˆè·Ÿè¸ª
- âŒ å¤±è´¥çš„æ“ä½œ

**ä½•æ—¶æŸ¥çœ‹**:
- Agentè¿è¡Œå‡ºé”™æ—¶
- å·¥å…·è°ƒç”¨å¤±è´¥æ—¶
- éœ€è¦å¿«é€Ÿå®šä½é”™è¯¯æ—¶

**ç¤ºä¾‹**:
```
2024-01-23 22:35:20 - agent.decide - ERROR - [nodes.py:1295] - LLM call failed in DecideNode: Connection timeout
Traceback (most recent call last):
  File "E:\AI\my-pocketflow\nodes.py", line 1292, in exec_async
    response_text = await call_llm_async(prompt, system_prompt)
  ...
```

---

### 3. debug.logï¼ˆè°ƒè¯•æ—¥å¿—ï¼‰ğŸ”

**ç”¨é€”**: DEBUGçº§åˆ«çš„è¯¦ç»†æ—¥å¿—ï¼ˆä»…åœ¨DEBUGæ¨¡å¼å¼€å¯ï¼‰

**åŒ…å«å†…å®¹**:
- ğŸ” è¯¦ç»†çš„å˜é‡å€¼
- ğŸ” å†…éƒ¨çŠ¶æ€
- ğŸ” LLM Promptå†…å®¹
- ğŸ” ä¸­é—´å¤„ç†ç»“æœ

**ä½•æ—¶æŸ¥çœ‹**:
- éœ€è¦æ·±å…¥è°ƒè¯•æ—¶
- åˆ†æLLMå“åº”æ—¶
- è¿½è¸ªæ•°æ®æµåŠ¨æ—¶

**å¦‚ä½•å¯ç”¨**:
```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
set LOG_LEVEL=DEBUG

# æˆ–åœ¨ä»£ç ä¸­
# logging_config.py ä¸­ä¿®æ”¹
LOG_LEVEL = "DEBUG"
```

---

### 4. mcp_manager.logï¼ˆMCPæ—¥å¿—ï¼‰ğŸ”§

**ç”¨é€”**: MCPå·¥å…·ç³»ç»Ÿçš„ä¸“ç”¨æ—¥å¿—

**åŒ…å«å†…å®¹**:
- ğŸ”§ MCPæœåŠ¡å™¨è¿æ¥
- ğŸ”§ å·¥å…·å‘ç°å’ŒåŠ è½½
- ğŸ”§ å·¥å…·è°ƒç”¨è¯¦æƒ…
- ğŸ”§ MCPåè®®é€šä¿¡

**ä½•æ—¶æŸ¥çœ‹**:
- MCPå·¥å…·è°ƒç”¨å¤±è´¥æ—¶
- å·¥å…·åŠ è½½é—®é¢˜æ—¶
- è¯Šæ–­MCPè¿æ¥æ—¶

---

## å¿«é€Ÿå¼€å§‹

### å¯åŠ¨Agentï¼ˆè‡ªåŠ¨å¼€å¯æ—¥å¿—ï¼‰

```bash
cd E:\AI\my-pocketflow
python main.py
```

**å¯åŠ¨æ—¶ä¼šæ˜¾ç¤º**:
```
[INFO] Starting MCP Agent with Manus-style Planning...
[INFO] Log files location: logs/
[INFO]   - agent.log: Main log
[INFO]   - error.log: Error log
[INFO]   - mcp_manager.log: MCP tool calls
```

### æŸ¥çœ‹æ—¥å¿—

**æ–¹æ³• 1: å®æ—¶æŸ¥çœ‹**ï¼ˆæ¨èï¼‰
```bash
# å®æ—¶æŸ¥çœ‹ä¸»æ—¥å¿—
tail -f logs/agent.log

# å®æ—¶æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f logs/error.log
```

**æ–¹æ³• 2: æŸ¥çœ‹æœ€è¿‘æ—¥å¿—**
```bash
# æœ€è¿‘50è¡Œ
tail -50 logs/agent.log

# æœ€è¿‘100è¡Œ
tail -100 logs/agent.log
```

**æ–¹æ³• 3: æœç´¢å…³é”®è¯**
```bash
# æœç´¢é”™è¯¯
grep "ERROR" logs/agent.log

# æœç´¢ç‰¹å®šå·¥å…·è°ƒç”¨
grep "submit_generate_image" logs/agent.log

# æœç´¢ç”¨æˆ·è¾“å…¥
grep "USER INPUT" logs/agent.log
```

**æ–¹æ³• 4: æŸ¥çœ‹å®Œæ•´æ—¥å¿—**
```bash
# ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨
notepad logs/agent.log

# æˆ–ä½¿ç”¨ VS Code
code logs/agent.log
```

---

## æ—¥å¿—çº§åˆ«

### çº§åˆ«è¯´æ˜

| çº§åˆ« | ç”¨é€” | ç¤ºä¾‹ |
|------|------|------|
| **DEBUG** | è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯ | Promptå†…å®¹ã€å˜é‡å€¼ã€å†…éƒ¨çŠ¶æ€ |
| **INFO** | ä¸€èˆ¬ä¿¡æ¯ | ä¼šè¯å¼€å§‹ã€å·¥å…·è°ƒç”¨ã€å†³ç­– |
| **WARNING** | è­¦å‘Šä¿¡æ¯ | æ½œåœ¨é—®é¢˜ã€é™çº§å¤„ç† |
| **ERROR** | é”™è¯¯ä¿¡æ¯ | å¼‚å¸¸ã€å¤±è´¥æ“ä½œ |

### é»˜è®¤çº§åˆ«ï¼šINFO

**åŒ…å«**ï¼šINFO + WARNING + ERROR
**ä¸åŒ…å«**ï¼šDEBUG

### åˆ‡æ¢åˆ°DEBUGçº§åˆ«

**æ–¹å¼ 1: ç¯å¢ƒå˜é‡**
```bash
set LOG_LEVEL=DEBUG
python main.py
```

**æ–¹å¼ 2: ä¿®æ”¹é…ç½®**
```python
# logging_config.py
LOG_LEVEL = "DEBUG"  # ä¿®æ”¹è¿™ä¸€è¡Œ
```

---

## æ—¥å¿—æ ¼å¼

### æ ‡å‡†æ ¼å¼

```
æ—¶é—´æˆ³ - æ¨¡å—å - çº§åˆ« - [æ–‡ä»¶å:è¡Œå·] - æ¶ˆæ¯
```

### ç¤ºä¾‹

```
2024-01-23 22:30:15 - agent.input - INFO - [nodes.py:685] - Initializing MCP tool system...
â”‚                    â”‚            â”‚       â”‚               â”‚
â”‚                    â”‚            â”‚       â”‚               â””â”€ æ—¥å¿—æ¶ˆæ¯
â”‚                    â”‚            â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æºä»£ç ä½ç½®
â”‚                    â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¥å¿—çº§åˆ«
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¥å¿—æ¨¡å—
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¶é—´æˆ³
```

### ç‰¹æ®Šæ ‡è®°

æ—¥å¿—ä¸­ä½¿ç”¨ç‰¹æ®Šæ ‡è®°æ–¹ä¾¿æœç´¢ï¼š

| æ ‡è®° | å«ä¹‰ | ç¤ºä¾‹ |
|------|------|------|
| `USER INPUT:` | ç”¨æˆ·è¾“å…¥ | `USER INPUT: è¯·ç”Ÿæˆå›¾ç‰‡` |
| `AGENT RESPONSE:` | Agentå“åº” | `AGENT RESPONSE: å¥½çš„ï¼Œæˆ‘å°†ç”Ÿæˆå›¾ç‰‡...` |
| `DECISION:` | å†³ç­–ç»“æœ | `DECISION: tool` |
| `TOOL CALL:` | å·¥å…·è°ƒç”¨ | `TOOL CALL: submit_generate_image` |
| `TOOL RESULT:` | å·¥å…·ç»“æœ | `TOOL RESULT: submit_generate_image - SUCCESS` |
| `>>> ENTER NODE:` | è¿›å…¥èŠ‚ç‚¹ | `>>> ENTER NODE: InputNode` |
| `<<< EXIT NODE:` | é€€å‡ºèŠ‚ç‚¹ | `<<< EXIT NODE: DecideNode -> tool` |

---

## å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1: Agentæ²¡æœ‰å“åº”

**æŸ¥çœ‹æ—¥å¿—**:
```bash
tail -50 logs/agent.log
```

**æŸ¥æ‰¾å…³é”®è¯**:
- `ERROR` - æ˜¯å¦æœ‰é”™è¯¯
- `LLM call` - LLMè°ƒç”¨æ˜¯å¦æˆåŠŸ
- `DECISION` - æ˜¯å¦åšå‡ºå†³ç­–

**å¸¸è§åŸå› **:
- LLM APIè¶…æ—¶æˆ–å¤±è´¥
- ç½‘ç»œè¿æ¥é—®é¢˜
- é…ç½®é”™è¯¯

---

### é—®é¢˜ 2: å·¥å…·è°ƒç”¨å¤±è´¥

**æŸ¥çœ‹æ—¥å¿—**:
```bash
# ä¸»æ—¥å¿—
grep "TOOL CALL" logs/agent.log
grep "TOOL RESULT" logs/agent.log

# MCPæ—¥å¿—
tail -100 logs/mcp_manager.log
```

**æŸ¥æ‰¾**:
- å·¥å…·åç§°æ˜¯å¦æ­£ç¡®
- å‚æ•°æ˜¯å¦æœ‰æ•ˆ
- MCPæœåŠ¡å™¨æ˜¯å¦å“åº”

**å¸¸è§åŸå› **:
- MCPæœåŠ¡å™¨æœªå¯åŠ¨
- å·¥å…·å‚æ•°é”™è¯¯
- æƒé™é—®é¢˜

---

### é—®é¢˜ 3: å›¾ç‰‡ç”Ÿæˆè¢«æˆªæ–­

**æŸ¥çœ‹æ—¥å¿—**:
```bash
grep "submit_generate_image" logs/agent.log
grep "response_format" logs/agent.log
```

**æŸ¥æ‰¾**:
- ä½¿ç”¨çš„ `response_format` æ˜¯ `url` è¿˜æ˜¯ `b64_json`
- æ˜¯å¦æœ‰æˆªæ–­è­¦å‘Š

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®è®¤ä½¿ç”¨ `response_format="url"`
- æ£€æŸ¥è¡Œä¸ºè§„åˆ™æ˜¯å¦ç”Ÿæ•ˆ

---

### é—®é¢˜ 4: å†…å­˜æˆ–æ€§èƒ½é—®é¢˜

**æŸ¥çœ‹æ—¥å¿—**:
```bash
grep "Memory" logs/agent.log
grep "WARNING" logs/agent.log
```

**æŸ¥æ‰¾**:
- è®°å¿†ç´¢å¼•å¤§å°
- æ€§èƒ½è­¦å‘Š
- ä¸Šä¸‹æ–‡çª—å£ä½¿ç”¨

---

## æ—¥å¿—åˆ†ææŠ€å·§

### æŠ€å·§ 1: è¿½è¸ªå•æ¬¡å¯¹è¯æµç¨‹

```bash
# æ‰¾åˆ°ç”¨æˆ·è¾“å…¥çš„æ—¶é—´
grep "USER INPUT: è¯·ç”Ÿæˆå›¾ç‰‡" logs/agent.log

# æŸ¥çœ‹è¯¥æ—¶é—´å‰åçš„æ—¥å¿—
# ä¾‹å¦‚ï¼š2024-01-23 22:30:18
grep "2024-01-23 22:30" logs/agent.log
```

### æŠ€å·§ 2: ç»Ÿè®¡å·¥å…·è°ƒç”¨

```bash
# ç»Ÿè®¡å„å·¥å…·è°ƒç”¨æ¬¡æ•°
grep "TOOL CALL:" logs/agent.log | sort | uniq -c

# ç¤ºä¾‹è¾“å‡ºï¼š
#   5 TOOL CALL: submit_generate_image
#   3 TOOL CALL: get_task_result
#   2 TOOL CALL: read_file
```

### æŠ€å·§ 3: æŸ¥æ‰¾é”™è¯¯æ¨¡å¼

```bash
# æŸ¥çœ‹æ‰€æœ‰é”™è¯¯
grep "ERROR" logs/error.log

# æŒ‰é”™è¯¯ç±»å‹åˆ†ç»„
grep "ERROR" logs/error.log | cut -d':' -f5 | sort | uniq -c
```

### æŠ€å·§ 4: åˆ†æå†³ç­–è¿‡ç¨‹

```bash
# æŸ¥çœ‹æ‰€æœ‰å†³ç­–
grep "DECISION:" logs/agent.log

# ç»Ÿè®¡å†³ç­–ç±»å‹
grep "DECISION:" logs/agent.log | cut -d':' -f5 | sort | uniq -c

# ç¤ºä¾‹è¾“å‡ºï¼š
#  10 tool
#   5 think
#   3 answer
```

---

## å¼€å‘è€…æŒ‡å—

### åœ¨ä»£ç ä¸­æ·»åŠ æ—¥å¿—

#### æ–¹æ³• 1: ä½¿ç”¨ä¾¿æ·å‡½æ•°ï¼ˆæ¨èï¼‰

```python
from logging_config import (
    log_user_input,
    log_tool_call,
    log_decision,
    log_error
)

# è®°å½•ç”¨æˆ·è¾“å…¥
log_user_input("ç”¨æˆ·çš„é—®é¢˜")

# è®°å½•å·¥å…·è°ƒç”¨
log_tool_call("tool_name", {"param": "value"})

# è®°å½•å†³ç­–
log_decision("tool", "éœ€è¦è°ƒç”¨å·¥å…·")

# è®°å½•é”™è¯¯
log_error("å‘ç”Ÿäº†é”™è¯¯", exc_info=True)
```

#### æ–¹æ³• 2: ä½¿ç”¨Loggerå¯¹è±¡

```python
from logging_config import get_logger

logger = get_logger("agent.mymodule")

logger.debug("è°ƒè¯•ä¿¡æ¯")
logger.info("ä¸€èˆ¬ä¿¡æ¯")
logger.warning("è­¦å‘Šä¿¡æ¯")
logger.error("é”™è¯¯ä¿¡æ¯", exc_info=True)
```

### æ—¥å¿—å‘½åè§„èŒƒ

ä½¿ç”¨å±‚çº§å‘½åï¼š

```python
# ä¸»æ¨¡å—
logger = get_logger("agent")

# å­æ¨¡å—
logger = get_logger("agent.input")    # InputNode
logger = get_logger("agent.decide")   # DecideNode
logger = get_logger("agent.tool")     # ToolNode
```

---

## æ—¥å¿—ç»´æŠ¤

### æ—¥å¿—è½®è½¬

**è‡ªåŠ¨è½®è½¬**ï¼š
- å•æ–‡ä»¶æœ€å¤§ï¼š10 MB
- å¤‡ä»½æ•°é‡ï¼š5 ä¸ª
- å‘½åï¼š`agent.log.1`, `agent.log.2`, ...

### æ¸…ç†æ—§æ—¥å¿—

**æ‰‹åŠ¨æ¸…ç†**:
```bash
# åˆ é™¤7å¤©å‰çš„æ—¥å¿—
python -c "from logging_config import clean_old_logs; clean_old_logs(7)"
```

**æŸ¥çœ‹æ—¥å¿—æ‘˜è¦**:
```python
from logging_config import get_log_summary

summary = get_log_summary()
for filename, info in summary.items():
    print(f"{filename}: {info['size_mb']} MB, {info['lines']} lines")
```

---

## FAQ

### Q1: å¦‚ä½•ä¸´æ—¶å…³é—­æ§åˆ¶å°æ—¥å¿—ï¼Ÿ

**A**: ä¿®æ”¹ `logging_config.py`:

```python
logger = setup_logging("agent", console_output=False)
```

---

### Q2: æ—¥å¿—æ–‡ä»¶è¿‡å¤§æ€ä¹ˆåŠï¼Ÿ

**A**: æ—¥å¿—ä¼šè‡ªåŠ¨è½®è½¬ã€‚å¦‚æœä»ç„¶è¿‡å¤§ï¼š

1. é™ä½æ—¥å¿—çº§åˆ«ï¼ˆINFO â†’ WARNINGï¼‰
2. æ¸…ç†æ—§æ—¥å¿—
3. è°ƒæ•´è½®è½¬å¤§å°

---

### Q3: å¦‚ä½•åªæŸ¥çœ‹ç‰¹å®šæ—¶é—´æ®µçš„æ—¥å¿—ï¼Ÿ

**A**: ä½¿ç”¨ grep è¿‡æ»¤ï¼š

```bash
# æŸ¥çœ‹æŸå¤©çš„æ—¥å¿—
grep "2024-01-23" logs/agent.log

# æŸ¥çœ‹æŸå°æ—¶çš„æ—¥å¿—
grep "2024-01-23 22:" logs/agent.log

# æŸ¥çœ‹æŸæ—¶é—´æ®µ
grep "2024-01-23 22:3[0-5]" logs/agent.log
```

---

### Q4: å¦‚ä½•å¯¼å‡ºæ—¥å¿—ç»™ä»–äººåˆ†æï¼Ÿ

**A**: å¤åˆ¶æ—¥å¿—ç›®å½•ï¼š

```bash
# å¤åˆ¶æ•´ä¸ªæ—¥å¿—ç›®å½•
cp -r logs logs_backup_20240123

# æˆ–å‹ç¼©
tar -czf logs_20240123.tar.gz logs/
```

---

### Q5: æ—¥å¿—å ç”¨å¤ªå¤šç£ç›˜ç©ºé—´ï¼Ÿ

**A**:

**æŸ¥çœ‹å ç”¨**:
```bash
du -sh logs/
```

**æ¸…ç†æ–¹æ¡ˆ**:
```bash
# åˆ é™¤æ—§å¤‡ä»½
rm logs/*.log.[3-9]

# æ¸…ç©ºdebugæ—¥å¿—ï¼ˆå¦‚æœä¸éœ€è¦ï¼‰
> logs/debug.log

# å®šæœŸæ¸…ç†
python -c "from logging_config import clean_old_logs; clean_old_logs(3)"
```

---

## æµ‹è¯•æ—¥å¿—ç³»ç»Ÿ

### è¿è¡Œæµ‹è¯•

```bash
python logging_config.py
```

**é¢„æœŸè¾“å‡º**:
```
==============================================================================
æ—¥å¿—ç³»ç»Ÿæµ‹è¯•
==============================================================================

This is a DEBUG message
This is an INFO message
This is a WARNING message
This is an ERROR message

æ—¥å¿—æ–‡ä»¶æ‘˜è¦:
--------------------------------------------------------------------------------
agent.log            |     0.01 MB |       25 lines | 2024-01-23 22:30:15
error.log            |     0.00 MB |        5 lines | 2024-01-23 22:30:15
mcp_manager.log      |     0.08 MB |      412 lines | 2024-01-23 21:54:32

==============================================================================
æ—¥å¿—æ–‡ä»¶ä½ç½®: E:\AI\my-pocketflow\logs
==============================================================================
```

---

## ç›¸å…³æ–‡æ¡£

- **æ—¥å¿—é…ç½®æºç **: `logging_config.py`
- **ä¸»ç¨‹åºé›†æˆ**: `main.py`
- **èŠ‚ç‚¹æ—¥å¿—**: `nodes.py`
- **è¡Œä¸ºè§„åˆ™**: `rules/global.md`

---

## æ€»ç»“

### å·²å®ç°çš„åŠŸèƒ½

âœ… ç»Ÿä¸€æ—¥å¿—é…ç½®æ¨¡å—
âœ… å¤šçº§åˆ«ã€å¤šæ–‡ä»¶åˆ†ç±»
âœ… è‡ªåŠ¨è½®è½¬å’Œå¤‡ä»½
âœ… ä¸»ç¨‹åºå’ŒèŠ‚ç‚¹é›†æˆ
âœ… ä¾¿æ·çš„æ—¥å¿—å‡½æ•°
âœ… è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£

### æ—¥å¿—æ–‡ä»¶ç”¨é€”å¿«æŸ¥

| é—®é¢˜ | æŸ¥çœ‹æ–‡ä»¶ |
|------|---------|
| äº†è§£å®Œæ•´æµç¨‹ | `agent.log` |
| å¿«é€Ÿå®šä½é”™è¯¯ | `error.log` |
| æ·±å…¥è°ƒè¯• | `debug.log` (éœ€å¯ç”¨DEBUG) |
| MCPå·¥å…·é—®é¢˜ | `mcp_manager.log` |

### å¿«é€Ÿå‘½ä»¤

```bash
# å®æ—¶æŸ¥çœ‹ä¸»æ—¥å¿—
tail -f logs/agent.log

# æŸ¥çœ‹æœ€è¿‘é”™è¯¯
tail -50 logs/error.log

# æœç´¢å…³é”®è¯
grep "ERROR" logs/agent.log

# æ¸…ç†æ—§æ—¥å¿—
python -c "from logging_config import clean_old_logs; clean_old_logs(7)"
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2024-01-23
**ä½œè€…**: AI Assistant
**ç»´æŠ¤è€…**: my-pocketflow é¡¹ç›®å›¢é˜Ÿ
